<!DOCTYPE html>
<html>
<head>
<title>O0ZE34's Crib REBORN â€” Achievements</title>
<link href="style.css" rel="stylesheet"/>
<style>
.ach-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
  gap:20px;
}
.ach-card{
  background:rgba(255,255,255,0.12);
  padding:15px;
  border-radius:15px;
  transition:.2s;
  text-align:center;
}
.ach-card.locked{
  opacity:0.4;
  filter:grayscale(1);
}
.ach-card.unlocked{
  border:2px solid #00ff88;
  box-shadow:0 0 15px #00ff88;
}
.ach-title{
  font-size:18px;
  font-weight:bold;
}
.ach-desc{
  font-size:14px;
  opacity:0.8;
  margin-top:6px;
}
.ach-xp{
  color:gold;
  margin-top:6px;
}
</style>
</head>

<body>

<div class="sidebar">
<a href="index.html">Home</a>
<a href="games.html">Games</a>
<a href="apps.html">Apps</a>
<a href="music.html">Music</a>
<a href="proxies.html">Proxies</a>
<a href="movies.html">Movies</a>
<a href="achievements.html" style="background:rgba(255,255,255,0.15)">Achievements</a>
<a href="settings.html">Settings</a>
</div>

<div class="main">
<h1>Achievements</h1>
<div class="ach-grid" id="achGrid"></div>
</div>

<script>
// âœ… SAFE PLAYER STATS (NO UNDEFINED BUGS)
let xp = parseInt(localStorage.getItem("xp") || "0");
let level = Math.floor(xp / 100) + 1;
let visits = parseInt(localStorage.getItem("visits") || "0");
let dailyClaims = parseInt(localStorage.getItem("dailyClaims") || "0");
let renamed = localStorage.getItem("username") ? true : false;
let musicVisits = parseInt(localStorage.getItem("musicVisits") || "0");
let gameVisits = parseInt(localStorage.getItem("gameVisits") || "0");
let proxyVisits = parseInt(localStorage.getItem("proxyVisits") || "0");
let clicks = parseInt(localStorage.getItem("clicks") || "0");
let daysUsed = parseInt(localStorage.getItem("daysUsed") || "1");
let secret = localStorage.getItem("secretUnlocked") === "true";

// âœ… LOAD UNLOCKED (SAFE OBJECT)
let unlocked = JSON.parse(localStorage.getItem("unlocked") || "{}");

// âœ… ACHIEVEMENT LIST (NO MANUAL CLAIMING)
const achievements = [
  ["First Visit", "Open the site for the first time", 50, () => visits >= 1],
  ["Explorer I", "Visit 5 times", 100, () => visits >= 5],
  ["Explorer II", "Visit 25 times", 150, () => visits >= 25],
  ["Explorer III", "Visit 100 times", 250, () => visits >= 100],

  ["First Rename", "Change your username once", 50, () => renamed === true],

  ["Daily Claimer I", "Claim daily reward once", 100, () => dailyClaims >= 1],
  ["Daily Claimer II", "Claim daily reward 7 times", 150, () => dailyClaims >= 7],
  ["Daily Claimer III", "Claim daily reward 30 times", 300, () => dailyClaims >= 30],

  ["Level 1 Reached", "Reach Level 1", 50, () => level >= 1],
  ["Level 3 Reached", "Reach Level 3", 150, () => level >= 3],
  ["Level 5 Reached", "Reach Level 5", 300, () => level >= 5],
  ["Level 10 Reached", "Reach Level 10", 500, () => level >= 10],

  ["XP Farmer", "Earn 500 XP", 150, () => xp >= 500],
  ["XP Grinder", "Earn 2,000 XP", 300, () => xp >= 2000],
  ["XP Addict", "Earn 5,000 XP", 600, () => xp >= 5000],

  ["Music Player", "Open music page 5 times", 100, () => musicVisits >= 5],
  ["Game Player", "Open games page 5 times", 100, () => gameVisits >= 5],
  ["Proxy User", "Open proxies page 5 times", 100, () => proxyVisits >= 5],

  ["Fast Clicker", "Click 100 times", 100, () => clicks >= 100],
  ["Mega Clicker", "Click 500 times", 250, () => clicks >= 500],

  ["Veteran", "Use the site for 30 days", 500, () => daysUsed >= 30],
  ["OG User", "Use the site for 100 days", 750, () => daysUsed >= 100],

  ["Secret Finder", "Unlock hidden stat", 400, () => secret === true],
  ["No Life Mode", "Reach Level 15", 1000, () => level >= 15],
  ["Final Boss", "Reach Level 25", 2000, () => level >= 25]
];

// âœ… CHECK ACHIEVEMENTS (XP ONLY ADDED ONCE)
function checkAchievements(){
  let changed = false;

  achievements.forEach(a=>{
    const [name, desc, xpReward, condition] = a;

    if(condition() && !unlocked[name]){
      unlocked[name] = true;
      xp += xpReward;
      changed = true;
    }
  });

  if(changed){
    localStorage.setItem("unlocked", JSON.stringify(unlocked));
    localStorage.setItem("xp", xp);
  }
}

// âœ… RENDER UI
function renderAchievements(){
  const grid = document.getElementById("achGrid");
  grid.innerHTML = "";

  achievements.forEach(a=>{
    const [name, desc, xpReward] = a;
    const isUnlocked = unlocked[name];

    const div = document.createElement("div");
    div.className = "ach-card " + (isUnlocked ? "unlocked" : "locked");

    div.innerHTML = `
      <div class="ach-title">${name}</div>
      <div class="ach-desc">${desc}</div>
      <div class="ach-xp">+${xpReward} XP</div>
      <div>${isUnlocked ? "âœ… UNLOCKED" : "ðŸ”’ LOCKED"}</div>
    `;

    grid.appendChild(div);
  });
}

// âœ… RUN SAFELY
checkAchievements();
renderAchievements();
</script>

</body>
</html>

