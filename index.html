<!DOCTYPE html>
<html>
<head>
<title>O0ZE34's Crib REBORN ‚Äî Home</title>
<link href="style.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet"/>
<link href="favicon.png" rel="icon" type="image/png"/>

<style>
/* üéÑ CHRISTMAS ACCENTS */
.home-card h2::before {
  content: "üéÑ ";
}
.daily_card h2::before {
  content: "üéÅ ";
}
.xp_card {
  box-shadow: 0 0 20px rgba(0,255,180,0.3);
}

/* ‚ùÑÔ∏è SNOW */
.snowflake {
  position: fixed;
  top: -10px;
  color: white;
  font-size: 14px;
  pointer-events: none;
  animation: fall linear forwards;
}
@keyframes fall {
  to {
    transform: translateY(110vh);
    opacity: 0;
  }
}

/* üéÅ GIFT MODAL */
#giftModal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.75);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 9999;
}
#giftModal .box {
  background: #0b2a2a;
  border-radius: 20px;
  padding: 25px;
  text-align: center;
  box-shadow: 0 0 30px #00ffcc;
}
#giftModal button {
  margin-top: 15px;
  padding: 10px 18px;
  border-radius: 12px;
  border: none;
  background: #00ffcc;
  font-weight: bold;
  cursor: pointer;
}
</style>
</head>

<body>

<!-- üéÅ CHRISTMAS GIFT -->
<div id="giftModal">
  <div class="box">
    <h2>üéÑ Gift from O0ZE34!</h2>
    <p>You received <b>+2 Levels</b> as a Christmas gift üéÅ</p>
    <button onclick="acceptGift()">Accept</button>
  </div>
</div>

<!-- ‚≠ê GREETING CARD -->
<div class="greeting-card">
  <div id="greet_box" class="greet-content" style="cursor:pointer;">
    <span id="greet_txt"></span>
  </div>
</div>

<div id="clock"></div>
<canvas id="stars"></canvas>
<canvas id="stars2"></canvas>

<!-- ‚≠ê SIDEBAR -->
<div class="sidebar">
<a href="index.html"><i class="fa-solid fa-house"></i><span>Home</span></a>
<a href="games.html"><i class="fa-solid fa-gamepad"></i><span>Games</span></a>
<a href="fnf.html"><i class="fa-solid fa-music"></i><span>FNF Mods</span></a>
<a href="apps.html"><i class="fa-solid fa-mobile-screen-button"></i><span>Apps</span></a>
<a href="music.html"><i class="fa-solid fa-headphones"></i><span>Music</span></a>
<a href="proxies.html"><i class="fa-solid fa-shield-halved"></i><span>Proxies</span></a>
<a href="movies.html"><i class="fa-solid fa-film"></i><span>Movies</span></a>
<a href="achievements.html"><i class="fa-solid fa-star"></i><span>Achievements</span></a>
<a href="settings.html"><i class="fa-solid fa-gear"></i><span>Settings</span></a>
<a href="staff.html"><i class="fa-solid fa-users"></i><span>Staff</span></a>
</div>

<!-- ‚≠ê MAIN -->
<div class="main">
<h1>Home</h1>

<div class="home-sections">

<!-- ‚≠ê NEXT UPDATE -->
<div class="home-card">
  <h2>NEXT UPDATE</h2>
  <div id="next-update-timer">Loading...</div>
</div>

<!-- ‚≠ê XP -->
<div class="xp_card">
  <h2>Level <span id="lvl_num">1</span></h2>
  <div class="xp_bar"><div id="xp_fill"></div></div>
  <p id="xp_txt">XP: 0 / 100</p>
</div>

<!-- ‚≠ê DAILY -->
<div class="daily_card" onclick="claimDaily()">
  <h2>Daily Reward</h2>
  <p id="daily_status">Tap to claim</p>
</div>

</div>
</div>

<script src="script.js"></script>

<!-- üéÑ GREETING -->
<script>
function updateGreeting(){
  let h=new Date().getHours();
  let text="Hello";
  if(h<12) text="Good Morning";
  else if(h<17) text="Good Afternoon";
  else if(h<21) text="Good Evening";
  else text="Good Night";
  let name = localStorage.getItem("username") || "Guest";
  document.getElementById("greet_txt").innerText =
    "üéÑ " + text + ", " + name + "!";
}
</script>

<!-- üéÅ CHRISTMAS GIFT (ONE TIME) -->
<script>
function acceptGift(){
  let xp = parseInt(localStorage.getItem("xp") || "0");
  xp += 200; // +2 levels
  localStorage.setItem("xp", xp);
  localStorage.setItem("xmasGift", "true");
  document.getElementById("giftModal").style.display="none";
  loadXP();
}

if(!localStorage.getItem("xmasGift")){
  document.getElementById("giftModal").style.display="flex";
}
</script>

<!-- ‚≠ê XP + DAILY -->
<script>
function loadXP(){
  let xp = parseInt(localStorage.getItem("xp") || "0");
  let lvl = Math.floor(xp / 100);
  let cur = xp % 100;
  lvl_num.innerText = lvl;
  xp_txt.innerText = "XP: " + cur + " / 100";
  xp_fill.style.width = cur + "%";
}

function claimDaily(){
  let last = parseInt(localStorage.getItem("lastDaily") || "0");
  let today = Math.floor(Date.now()/86400000);
  if(today > last){
    localStorage.setItem("lastDaily", today);
    let xp = parseInt(localStorage.getItem("xp") || "0") + 50;
    localStorage.setItem("xp", xp);
    daily_status.innerText = "Claimed! +50 XP üéÑ";
    loadXP();
  } else {
    daily_status.innerText = "Already claimed today";
  }
}
</script>

<!-- ‚≠ê NEXT UPDATE TIMER (FIXED) -->
<script>
function getNextSaturday(){
  const now=new Date();
  let diff=(6-now.getDay()+7)%7;
  if(diff===0) diff=7;
  return new Date(now.getFullYear(), now.getMonth(), now.getDate()+diff);
}

function startNextUpdateTimer(){
  const el=document.getElementById("next-update-timer");
  let target=getNextSaturday();
  setInterval(()=>{
    let diff=target-new Date();
    let s=Math.floor(diff/1000);
    let d=Math.floor(s/86400);
    let h=Math.floor((s%86400)/3600);
    let m=Math.floor((s%3600)/60);
    let sec=s%60;
    el.textContent = `${d}d ${h}h ${m}m ${sec}s`;
  },1000);
}
startNextUpdateTimer();
</script>

<!-- ‚ùÑÔ∏è SNOW -->
<script>
setInterval(()=>{
  const s=document.createElement("div");
  s.className="snowflake";
  s.innerText="‚ùÑ";
  s.style.left=Math.random()*100+"vw";
  s.style.animationDuration=(3+Math.random()*4)+"s";
  document.body.appendChild(s);
  setTimeout(()=>s.remove(),7000);
},200);
</script>

<script>
updateGreeting();
loadXP();
</script>

</body>
</html>
