<!DOCTYPE html>
<html>
<head>
<title>O0ZE34's Crib REBORN — Home</title>
<link href="style.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet"/>
<link href="favicon.png" rel="icon" type="image/png"/>
</head>

<body>

<!-- ⭐ GREETING CARD -->
<div class="greeting-card">
  <div id="greet_box" class="greet-content" style="cursor:pointer;">
    <span id="greet_txt"></span>
  </div>
</div>

<canvas id="stars"></canvas>
<canvas id="stars2"></canvas>

<!-- ⭐ SIDEBAR -->
<div class="sidebar">
<a href="index.html"><i class="fa-solid fa-house"></i><span>Home</span></a>
<a href="games.html"><i class="fa-solid fa-gamepad"></i><span>Games</span></a>
<a href="fnf.html"><i class="fa-solid fa-music"></i><span>FNF Mods</span></a>
<a href="apps.html"><i class="fa-solid fa-mobile-screen-button"></i><span>Apps</span></a>
<a href="music.html"><i class="fa-solid fa-headphones"></i><span>Music</span></a>
<a href="proxies.html"><i class="fa-solid fa-shield-halved"></i><span>Proxies</span></a>
<a href="movies.html"><i class="fa-solid fa-film"></i><span>Movies</span></a>
<a href="achievements.html"><i class="fa-solid fa-star"></i><span>Achievements</span></a>
<a href="settings.html"><i class="fa-solid fa-gear"></i><span>Settings</span></a>
<a href="staff.html"><i class="fa-solid fa-users"></i><span>Staff</span></a>
</div>

<!-- ⭐ MAIN -->
<div class="main">
<h1>Home</h1>

<div class="home-sections">

<div class="home-card">
  <h2>Level <span id="lvl_num">1</span></h2>
  <div class="xp_bar"><div id="xp_fill"></div></div>
  <p id="xp_txt">XP: 0 / 100</p>
</div>

<div class="daily_card" onclick="claimDaily()">
  <h2>Daily Reward</h2>
  <p id="daily_status">Tap to claim</p>
</div>

<div class="stats_grid">
 <div class="stat_box"><h3 id="stat_ach">0</h3><p>Achievements</p></div>
 <div class="stat_box"><h3 id="visits">0</h3><p>Your Visits</p></div>
 <div class="stat_box"><h3 id="online">1</h3><p>Online Now</p></div>
</div>

</div>
</div>

<!-- ✅ GREETING -->
<script>
function updateGreeting(){
  let h=new Date().getHours();
  let text="Hello";
  if(h<12) text="Good Morning";
  else if(h<17) text="Good Afternoon";
  else if(h<21) text="Good Evening";
  else text="Good Night";

  let name = localStorage.getItem("username") || "Guest";
  document.getElementById("greet_txt").innerText = text + ", " + name + "!";
}

document.getElementById("greet_box").onclick=()=>{
  let n=prompt("Enter your name:");
  if(n){localStorage.setItem("username",n);updateGreeting();}
}
</script>

<!-- ✅ XP + LEVEL -->
<script>
function loadXP(){
  let xp = parseInt(localStorage.getItem("xp")||"0");
  let level = Math.floor(xp/100)+1;
  let cur = xp % 100;
  document.getElementById("lvl_num").innerText = level;
  document.getElementById("xp_txt").innerText = "XP: "+cur+" / 100";
  document.getElementById("xp_fill").style.width = cur+"%";
}
</script>

<!-- ✅ DAILY -->
<script>
function claimDaily(){
  let last = parseInt(localStorage.getItem("lastDaily")||"0");
  let today = Math.floor(Date.now()/86400000);

  if(today>last){
    localStorage.setItem("lastDaily",today);
    let xp = parseInt(localStorage.getItem("xp")||"0");
    xp += 50;
    localStorage.setItem("xp",xp);
    document.getElementById("daily_status").innerText = "Claimed! +50 XP";
    loadXP();
  } else {
    document.getElementById("daily_status").innerText = "Already claimed today";
  }
}
</script>

<!-- ✅ ACHIEVEMENTS GIVE XP -->
<script>
function unlockAchievement(name, xp){
  let a = JSON.parse(localStorage.getItem("unlocked")||"{}");
  if(!a[name]){
    a[name]=true;
    localStorage.setItem("unlocked",JSON.stringify(a));
    let totalXP = parseInt(localStorage.getItem("xp")||"0");
    totalXP+=xp;
    localStorage.setItem("xp",totalXP);
  }
}
</script>

<!-- ✅ VISITS -->
<script>
let visits = parseInt(localStorage.getItem("visits")||"0")+1;
localStorage.setItem("visits",visits);
document.getElementById("visits").innerText=visits;
</script>

<!-- ✅ FAKE ONLINE (SESSION-BASED) -->
<script>
document.getElementById("online").innerText =
  Math.floor(Math.random()*4)+1;
</script>

<!-- ✅ LOAD -->
<script>
window.onload=()=>{
  updateGreeting();
  loadXP();

  let last = parseInt(localStorage.getItem("lastDaily")||"0");
  let today = Math.floor(Date.now()/86400000);
  document.getElementById("daily_status").innerText =
    today>last?"Tap to claim":"Already claimed today";

  let a = JSON.parse(localStorage.getItem("unlocked")||"{}");
  document.getElementById("stat_ach").innerText=Object.keys(a).length;
}
</script>

</body>
</html>
