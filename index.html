<!DOCTYPE html>
<html>
<head>
<title>O0ZE34's Crib REBORN ‚Äî Home</title>
<link href="style.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet"/>
<link href="favicon.png" rel="icon" type="image/png"/>
</head>

<body>

<!-- üéÑ CHRISTMAS SNOW -->
<div id="snow-container"></div>

<!-- ‚≠ê GREETING CARD -->
<div class="greeting-card">
  <div id="greet_box" class="greet-content" style="cursor:pointer;">
    <span id="greet_txt"></span>
  </div>
</div>

<div id="clock"></div>
<canvas id="stars"></canvas>
<canvas id="stars2"></canvas>

<!-- ‚≠ê SIDEBAR -->
<div class="sidebar">
<a href="index.html"><i class="fa-solid fa-house"></i><span>Home</span></a>
<a href="games.html"><i class="fa-solid fa-gamepad"></i><span>Games</span></a>
<a href="fnf.html"><i class="fa-solid fa-music"></i><span>FNF Mods</span></a>
<a href="apps.html"><i class="fa-solid fa-mobile-screen-button"></i><span>Apps</span></a>
<a href="music.html"><i class="fa-solid fa-headphones"></i><span>Music</span></a>
<a href="proxies.html"><i class="fa-solid fa-shield-halved"></i><span>Proxies</span></a>
<a href="movies.html"><i class="fa-solid fa-film"></i><span>Movies</span></a>
<a href="achievements.html"><i class="fa-solid fa-star"></i><span>Achievements</span></a>
<a href="settings.html"><i class="fa-solid fa-gear"></i><span>Settings</span></a>
<a href="staff.html"><i class="fa-solid fa-users"></i><span>Staff</span></a>
</div>

<!-- ‚≠ê MAIN -->
<div class="main">
<h1>Home</h1>

<div class="home-sections">

<!-- üéÅ CHRISTMAS GIFT (ONE TIME) -->
<div id="giftBox" class="home-card" style="display:none">
  <h2>üéÅ Gift from O0ZE34</h2>
  <p>You received a Christmas gift!</p>
  <button class="quick-btn" onclick="claimGift()">Claim +25 Levels</button>
</div>

<!-- ‚≠ê NEXT UPDATE -->
<div class="home-card">
  <h2>NEXT UPDATE</h2>
  <div id="next-update-timer"></div>
</div>

<!-- ‚≠ê RENAME -->
<div id="renameModal" class="modal-bg" style="display:none;">
  <div class="modal">
    <div class="modal-header">
      <span>Rename Profile</span>
      <button class="close-btn" onclick="closeModal()">√ó</button>
    </div>
    <input id="nameInput" class="modal-input" placeholder="Enter name...">
    <button class="save-btn" onclick="saveName()">Save</button>
  </div>
</div>

<!-- ‚≠ê XP -->
<div class="xp_card">
  <h2>Level <span id="lvl_num">1</span></h2>
  <div class="xp_bar"><div id="xp_fill"></div></div>
  <p id="xp_txt">XP: 0 / 100</p>
</div>

<!-- ‚≠ê DAILY -->
<div class="daily_card" onclick="claimDaily()">
  <h2>Daily Reward</h2>
  <p id="daily_status">Tap to claim</p>
</div>

<!-- ‚≠ê QUICK ACCESS -->
<div class="home-card">
<h2>Quick Access</h2>
<div class="home-grid">
<a class="quick-btn" href="games.html">Games</a>
<a class="quick-btn" href="music.html">Music</a>
<a class="quick-btn" href="apps.html">Apps</a>
</div>
</div>

</div>
</div>

<script src="script.js"></script>

<!-- üéÑ CHRISTMAS LOGIC -->
<script>
/* GREETING */
function updateGreeting(){
  let h=new Date().getHours();
  let t="Hello";
  if(h<12) t="Good Morning";
  else if(h<17) t="Good Afternoon";
  else if(h<21) t="Good Evening";
  else t="Good Night";
  let n=localStorage.getItem("username")||"Guest";
  greet_txt.innerText = "üéÑ " + t + ", " + n + "!";
}

/* RENAME */
function openModal(){renameModal.style.display="flex";}
function closeModal(){renameModal.style.display="none";}
function saveName(){
 let n=nameInput.value.trim();
 if(n){localStorage.setItem("username",n);updateGreeting();}
 closeModal();
}

/* XP */
function loadXP(){
 let xp=parseInt(localStorage.getItem("xp")||"0");
 let lvl=Math.floor(xp/100);
 lvl_num.innerText=lvl;
 xp_txt.innerText=`XP: ${xp%100} / 100`;
 xp_fill.style.width=(xp%100)+"%";
}

/* DAILY */
function claimDaily(){
 let today=Math.floor(Date.now()/86400000);
 if(localStorage.getItem("lastDaily")!=today){
  localStorage.setItem("lastDaily",today);
  let xp=parseInt(localStorage.getItem("xp")||"0")+50;
  localStorage.setItem("xp",xp);
  daily_status.innerText="Claimed +50 XP";
  loadXP();
 } else daily_status.innerText="Already claimed today";
}

/* üéÅ ONE TIME GIFT (+25 LEVELS) */
function claimGift(){
 let xp=parseInt(localStorage.getItem("xp")||"0");
 xp += 2500; // 25 levels
 localStorage.setItem("xp",xp);
 localStorage.setItem("xmasGift","claimed");
 giftBox.style.display="none";
 loadXP();
}

/* SHOW GIFT ONCE */
if(!localStorage.getItem("xmasGift")){
 giftBox.style.display="block";
}

/* NEXT UPDATE TIMER FIX */
function nextSaturday(){
 let d=new Date();
 let diff=(6-d.getDay()+7)%7 || 7;
 let n=new Date(d);
 n.setDate(d.getDate()+diff);
 n.setHours(0,0,0,0);
 return n;
}
let target=nextSaturday();
setInterval(()=>{
 let diff=target-new Date();
 if(diff<=0){target=nextSaturday();diff=target-new Date();}
 let s=Math.floor(diff/1000);
 let d=Math.floor(s/86400);
 let h=Math.floor(s%86400/3600);
 let m=Math.floor(s%3600/60);
 let sec=s%60;
 next-update-timer.innerText=`${d}d ${h}h ${m}m ${sec}s`;
},1000);

/* üéÑ SNOW */
setInterval(()=>{
 let s=document.createElement("div");
 s.className="snowflake";
 s.style.left=Math.random()*100+"vw";
 s.style.animationDuration=(3+Math.random()*4)+"s";
 document.body.appendChild(s);
 setTimeout(()=>s.remove(),8000);
},200);

greet_box.onclick=openModal;
updateGreeting();
loadXP();
</script>

<style>
/* üéÑ SNOW STYLE */
.snowflake{
 position:fixed;
 top:-10px;
 width:6px;height:6px;
 background:white;
 border-radius:50%;
 opacity:.8;
 animation:fall linear;
}
@keyframes fall{
 to{transform:translateY(110vh);}
}
</style>

</body>
</html>
