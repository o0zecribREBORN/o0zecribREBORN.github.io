<!DOCTYPE html>
<html>
<head>
<title>O0ZE34's Crib REBORN â€” Home</title>
<link href="style.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet"/>
<link href="favicon.png" rel="icon" type="image/png"/>
</head>

<body>

<!-- â„ï¸ SNOW OVERLAY -->
<div id="snow"></div>

<!-- â­ GREETING CARD -->
<div class="greeting-card">
  <div id="greet_box" class="greet-content" style="cursor:pointer;">
    ğŸ„ <span id="greet_txt"></span>
  </div>
</div>

<canvas id="stars"></canvas>
<canvas id="stars2"></canvas>

<!-- â­ SIDEBAR -->
<div class="sidebar">
<a href="index.html"><i class="fa-solid fa-house"></i><span>Home</span></a>
<a href="games.html"><i class="fa-solid fa-gamepad"></i><span>Games</span></a>
<a href="fnf.html"><i class="fa-solid fa-music"></i><span>FNF Mods</span></a>
<a href="apps.html"><i class="fa-solid fa-mobile-screen-button"></i><span>Apps</span></a>
<a href="music.html"><i class="fa-solid fa-headphones"></i><span>Music</span></a>
<a href="proxies.html"><i class="fa-solid fa-shield-halved"></i><span>Proxies</span></a>
<a href="movies.html"><i class="fa-solid fa-film"></i><span>Movies</span></a>
<a href="achievements.html"><i class="fa-solid fa-star"></i><span>Achievements</span></a>
<a href="settings.html"><i class="fa-solid fa-gear"></i><span>Settings</span></a>
<a href="staff.html"><i class="fa-solid fa-users"></i><span>Staff</span></a>
</div>

<!-- â­ MAIN -->
<div class="main" style="margin-top:-20px;">
<h1>Home ğŸ„</h1>

<div class="home-sections">

<!-- â­ NEXT UPDATE (FIXED) -->
<div class="home-card">
  <h2>ğŸ„ NEXT UPDATE</h2>
  <div id="next-update-timer">Startingâ€¦</div>
  <small>Adding pictures â€¢ Christmas upgrades</small>
</div>

<!-- â­ XP -->
<div class="xp_card">
  <h2>Level <span id="lvl_num">1</span></h2>
  <div class="xp_bar"><div id="xp_fill"></div></div>
  <p id="xp_txt">XP: 0 / 100</p>
</div>

<!-- â­ DAILY -->
<div class="daily_card" onclick="claimDaily()">
  <h2>ğŸ Daily Reward</h2>
  <p id="daily_status">Tap to claim</p>
</div>

<!-- â­ STATS -->
<div class="stats_grid">
 <div class="stat_box"><h3 id="stat_ach">24</h3><p>Achievements</p></div>
 <div class="stat_box"><h3>200+</h3><p>Games</p></div>
 <div class="stat_box"><h3>15+</h3><p>Proxies</p></div>
 <div class="stat_box"><h3>10+</h3><p>Music</p></div>
</div>

<!-- â­ QUICK ACCESS (KEPT) -->
<div class="home-card">
<h2>Quick Access</h2>
<div class="home-grid">
<a class="quick-btn" href="games.html">Games</a>
<a class="quick-btn" href="music.html">Music</a>
<a class="quick-btn" href="apps.html">Apps</a>
<a class="quick-btn" href="https://padlet.com/O0ZE34/comments-hawf20t3430fydgj" target="_blank">Comments</a>
</div>
</div>

</div>
</div>

<!-- ğŸ ONE-TIME CHRISTMAS GIFT -->
<div id="giftPopup" style="display:none" class="gift-popup">
ğŸ„ You got a gift from O0ZE34!<br>
<b>+2 Levels</b>
<button onclick="acceptGift()">Claim</button>
</div>

<script src="script.js"></script>

<script>
/* ğŸ„ GREETING */
function updateGreeting(){
  let h=new Date().getHours();
  let t="Hello";
  if(h<12)t="Good Morning";
  else if(h<17)t="Good Afternoon";
  else if(h<21)t="Good Evening";
  else t="Good Night";
  let name=localStorage.getItem("username")||"Guest";
  greet_txt.innerText=t+", "+name+"!";
}
greet_box.onclick=()=>document.getElementById("renameModal")?.style?.display==="flex";

/* ğŸ CHRISTMAS GIFT (ONCE) */
if(!localStorage.getItem("xmasGift")){
  setTimeout(()=>giftPopup.style.display="block",1200);
}
function acceptGift(){
  let xp=parseInt(localStorage.getItem("xp")||"0");
  xp+=200;
  localStorage.setItem("xp",xp);
  localStorage.setItem("xmasGift","1");
  giftPopup.style.display="none";
  loadXP();
}

/* â±ï¸ NEXT UPDATE TIMER â€” FIXED */
function startNextUpdateTimer(){
  const el=document.getElementById("next-update-timer");
  function getNextSaturday(){
    const n=new Date();
    let d=(6-n.getDay()+7)%7||7;
    return new Date(n.getFullYear(),n.getMonth(),n.getDate()+d);
  }
  let target=getNextSaturday();
  function tick(){
    let diff=target-new Date();
    let s=Math.floor(diff/1000);
    let d=Math.floor(s/86400);
    let h=Math.floor((s%86400)/3600);
    let m=Math.floor((s%3600)/60);
    let sec=s%60;
    el.textContent=`${d}d ${h}h ${m}m ${sec}s`;
  }
  tick(); setInterval(tick,1000);
}

/* â„ï¸ SNOW */
for(let i=0;i<40;i++){
  let f=document.createElement("div");
  f.className="snowflake";
  f.style.left=Math.random()*100+"vw";
  f.style.animationDuration=5+Math.random()*5+"s";
  document.body.appendChild(f);
}

/* LOAD */
window.onload=()=>{
  updateGreeting();
  loadXP();
  startNextUpdateTimer();
};
</script>

</body>
</html>
