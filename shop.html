<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>O0ZE34's Crib REBORN â€” Shop</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="favicon.png" type="image/png" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

  <style>
    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
       Your existing global styles (paste them here or keep in style.css)
       snowflake, giftToast, codeRedeemer, editOverlay, oozeBeat, etc.
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

    /* Shop-specific styles */
    .shop-sections { display: grid; gap: 28px; margin-top: 20px; }
    .shop-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 20px;
    }
    .shop-item {
      background: rgba(255,255,255,0.07);
      border: 1px solid rgba(255,255,255,0.12);
      border-radius: 18px;
      padding: 18px;
      text-align: center;
      transition: all 0.25s ease;
    }
    .shop-item:hover {
      transform: translateY(-6px);
      box-shadow: 0 12px 30px rgba(0,0,0,0.4);
    }
    .shop-item h3 {
      margin: 0 0 10px;
      font-size: 1.2rem;
    }
    .shop-item .cost {
      font-size: 0.95rem;
      opacity: 0.85;
      margin-bottom: 12px;
    }
    .shop-item button {
      padding: 10px 18px;
      border-radius: 12px;
      background: #3cff9a;
      color: #000;
      border: none;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s;
    }
    .shop-item button:disabled {
      background: #444;
      cursor: not-allowed;
      opacity: 0.6;
    }
    .equipped {
      border-color: #3cff9a;
      background: rgba(60,255,154,0.12);
      box-shadow: 0 0 25px rgba(60,255,154,0.4);
    }
    .current-equipped {
      background: rgba(60,255,154,0.18);
      border: 1px solid #3cff9a;
      border-radius: 14px;
      padding: 14px;
      margin-bottom: 24px;
      text-align: center;
      font-weight: 600;
    }
  </style>
</head>
<body>

  <!-- ðŸŽŸï¸ OVERLAYS -->
  <div id="editOverlay" aria-hidden="true"></div>

  <!-- ðŸŽ TOAST NOTIFICATION -->
  <div id="giftToast" style="display:none;">
    <span id="toastMsg"></span>
  </div>

  <!-- â­ SIDEBAR -->
  <div class="sidebar">
    <a href="index.html"><i class="fa-solid fa-house"></i><span>Home</span></a>
    <a href="shop.html"><i class="fa-solid fa-cart-shopping"></i><span>Shop</span></a>
    <a href="games.html"><i class="fa-solid fa-gamepad"></i><span>Games</span></a>
    <a href="fnf.html"><i class="fa-solid fa-music"></i><span>FNF Mods</span></a>
    <a href="apps.html"><i class="fa-solid fa-mobile-screen-button"></i><span>Apps</span></a>
    <a href="music.html"><i class="fa-solid fa-headphones"></i><span>Music</span></a>
    <a href="proxies.html"><i class="fa-solid fa-shield-halved"></i><span>Proxies</span></a>
    <a href="movies.html"><i class="fa-solid fa-film"></i><span>Movies</span></a>
    <a href="achievements.html"><i class="fa-solid fa-star"></i><span>Achievements</span></a>
    <a href="settings.html"><i class="fa-solid fa-gear"></i><span>Settings</span></a>
    <a href="staff.html"><i class="fa-solid fa-users"></i><span>Staff</span></a>
  </div>

  <!-- â­ MAIN CONTENT -->
  <div class="main">
    <h1>ðŸ›’ Shop</h1>

    <div class="current-equipped">
      <strong>Currently Equipped:</strong><br>
      Mouse Trail: <span id="currentTrail">None</span><br>
      Theme: <span id="currentTheme">Default (Christmas)</span>
    </div>

    <p>Level: <span id="lvl_num">1</span> â€¢ Coins: <span id="coins_display">0</span></p>

    <div class="shop-sections">

      <!-- Mouse Trails -->
      <div class="home-card">
        <h2>Mouse Trails</h2>
        <div class="shop-grid">
          <div class="shop-item" data-trail="none">
            <h3>None</h3>
            <p class="cost">Free</p>
            <button onclick="equipTrail('none')">Equip</button>
          </div>
          <div class="shop-item" data-trail="sparkle" data-unlock="1">
            <h3>Sparkle Stars</h3>
            <p class="cost">400 Coins</p>
            <button onclick="buyOrEquipTrail('sparkle', 400, 1)">Buy / Equip</button>
          </div>
          <div class="shop-item" data-trail="hearts" data-unlock="5">
            <h3>Love Hearts ðŸ’–</h3>
            <p class="cost">900 Coins</p>
            <button onclick="buyOrEquipTrail('hearts', 900, 5)">Buy / Equip</button>
          </div>
          <div class="shop-item" data-trail="rainbow" data-unlock="10">
            <h3>Rainbow Comet</h3>
            <p class="cost">1800 Coins</p>
            <button onclick="buyOrEquipTrail('rainbow', 1800, 10)">Buy / Equip</button>
          </div>
          <div class="shop-item" data-trail="ghost" data-unlock="15">
            <h3>Ghost Trail ðŸ‘»</h3>
            <p class="cost">2500 Coins</p>
            <button onclick="buyOrEquipTrail('ghost', 2500, 15)">Buy / Equip</button>
          </div>
          <div class="shop-item" data-trail="fire" data-unlock="25">
            <h3>Fire Blaze ðŸ”¥</h3>
            <p class="cost">4200 Coins</p>
            <button onclick="buyOrEquipTrail('fire', 4200, 25)">Buy / Equip</button>
          </div>
        </div>
      </div>

      <!-- Themes -->
      <div class="home-card">
        <h2>Themes</h2>
        <div class="shop-grid">
          <div class="shop-item" data-theme="default">
            <h3>Default (Christmas ðŸŽ„)</h3>
            <p class="cost">Free</p>
            <button onclick="equipTheme('default')">Equip</button>
          </div>
          <div class="shop-item" data-theme="neon" data-unlock="5">
            <h3>Neon Cyberpunk</h3>
            <p class="cost">1200 Coins</p>
            <button onclick="buyOrEquipTheme('neon', 1200, 5)">Buy / Equip</button>
          </div>
          <div class="shop-item" data-theme="pastel" data-unlock="10">
            <h3>Pastel Vaporwave</h3>
            <p class="cost">2000 Coins</p>
            <button onclick="buyOrEquipTheme('pastel', 2000, 10)">Buy / Equip</button>
          </div>
          <div class="shop-item" data-theme="retro" data-unlock="15">
            <h3>Retro Arcade</h3>
            <p class="cost">2800 Coins</p>
            <button onclick="buyOrEquipTheme('retro', 2800, 15)">Buy / Equip</button>
          </div>
          <div class="shop-item" data-theme="beach" data-unlock="20">
            <h3>Dark Beach Sunset</h3>
            <p class="cost">3500 Coins</p>
            <button onclick="buyOrEquipTheme('beach', 3500, 20)">Buy / Equip</button>
          </div>
          <div class="shop-item" data-theme="glitch" data-unlock="30">
            <h3>Glitch Cyber Error</h3>
            <p class="cost">5000 Coins</p>
            <button onclick="buyOrEquipTheme('glitch', 5000, 30)">Buy / Equip</button>
          </div>
        </div>
      </div>

      <!-- Redeem Codes -->
      <div class="home-card" id="codeRedeemer">
        <h2>Redeem Coin Code</h2>
        <input
          id="coinCodeInput"
          class="modal-input"
          placeholder="Enter code..."
          autocomplete="off"
        />
        <button
          class="save-btn"
          style="margin-top:12px;"
          onclick="redeemCoinCode()"
        >
          Redeem
        </button>
        <p id="coinMsg" style="margin-top:12px;"></p>
      </div>
    </div>
  </div>

  <script>
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Core functions (load data, toast, redeem, buy/equip)
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    function showToast(text, good = true) {
      const toast = document.getElementById("giftToast");
      const msg = document.getElementById("toastMsg");
      msg.innerHTML = text;
      toast.style.background = good ? "rgba(20,40,30,0.95)" : "rgba(40,20,20,0.95)";
      toast.style.borderColor = good ? "#3cff9a" : "#ff6b6b";
      toast.style.display = "block";
      setTimeout(() => { toast.style.display = "none"; }, 5000);
    }

    function loadShopData() {
      const xp = BigInt(localStorage.getItem("xp") || "0");
      const level = Number(xp / 100n);
      const coins = parseInt(localStorage.getItem("coins") || "0");
      const trail = localStorage.getItem("equippedTrail") || "none";
      const theme = localStorage.getItem("equippedTheme") || "default";

      document.getElementById("lvl_num").innerText = level;
      document.getElementById("coins_display").innerText = coins;
      document.getElementById("currentTrail").innerText = trail === "none" ? "None" : trail.charAt(0).toUpperCase() + trail.slice(1);
      document.getElementById("currentTheme").innerText = theme.charAt(0).toUpperCase() + theme.slice(1);

      document.querySelectorAll('.shop-item').forEach(el => {
        const t = el.dataset.trail || el.dataset.theme;
        if (t === trail || t === theme) {
          el.classList.add("equipped");
        } else {
          el.classList.remove("equipped");
        }
      });
    }

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Coin Redeem Codes
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const COIN_CODES = {
      "welcomeooze": 250,
      "dailygrind": 500,
      "christmas2026": 1000,
      "beachvibes": 1500,
      "levelupking": 2500,
      "oozedabest": 3000,
      "valentinesgrind": 4000,
      "secretstash": 7500,
      "rebornlegend": 12000,
      "millionaireooze": 25000
    };

    function redeemCoinCode() {
      const input = document.getElementById("coinCodeInput");
      const code = input.value.trim().toLowerCase();
      input.value = "";

      if (COIN_CODES[code]) {
        addCoins(COIN_CODES[code]);
        showToast(`+${COIN_CODES[code]} Coins!<br>Code redeemed successfully ðŸŽ‰`, true);
      } else {
        showToast("Invalid code... try again ðŸ˜•", false);
      }
    }

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Trail & Theme logic
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function buyOrEquipTrail(trail, cost, reqLevel) {
      const level = Number(BigInt(localStorage.getItem("xp") || "0") / 100n);
      if (level < reqLevel) {
        showToast(`Unlocks at level ${reqLevel}+<br>Keep playing! ðŸš€`, false);
        return;
      }

      let coins = parseInt(localStorage.getItem("coins") || "0");
      if (coins < cost) {
        showToast("Not enough coins! Claim dailies or redeem codes.", false);
        return;
      }

      coins -= cost;
      localStorage.setItem("coins", coins);
      localStorage.setItem("equippedTrail", trail);
      loadCoins();
      loadShopData();
      showToast(`Equipped <strong>${trail}</strong> trail!<br>Enjoy the vibes âœ¨`, true);
    }

    function equipTrail(trail) {
      localStorage.setItem("equippedTrail", trail);
      loadShopData();
      showToast(`Switched to <strong>${trail}</strong> trail!`, true);
    }

    function buyOrEquipTheme(theme, cost, reqLevel) {
      const level = Number(BigInt(localStorage.getItem("xp") || "0") / 100n);
      if (level < reqLevel) {
        showToast(`Unlocks at level ${reqLevel}+`, false);
        return;
      }

      let coins = parseInt(localStorage.getItem("coins") || "0");
      if (coins < cost) {
        showToast("Not enough coins!", false);
        return;
      }

      coins -= cost;
      localStorage.setItem("coins", coins);
      localStorage.setItem("equippedTheme", theme);
      loadCoins();
      loadShopData();
      showToast(`Equipped <strong>${theme}</strong> theme!<br>Refresh to apply ðŸŒŸ`, true);
    }

    function equipTheme(theme) {
      localStorage.setItem("equippedTheme", theme);
      loadShopData();
      showToast(`Switched to <strong>${theme}</strong> theme!`, true);
    }

    // Basic coin / xp helpers (adjust to match your index.html)
    function addCoins(amount) {
      let coins = parseInt(localStorage.getItem("coins") || "0");
      coins += amount;
      localStorage.setItem("coins", coins);
      document.getElementById("coins_display").innerText = coins;
    }

    function loadCoins() {
      document.getElementById("coins_display").innerText = parseInt(localStorage.getItem("coins") || "0");
    }

    // Call load functions
    window.addEventListener("load", () => {
      loadShopData();
      // If you have loadXP() / loadCoins() from index.html, call them here too
    });
  </script>

  <!-- Paste your shared theme + mouse trail apply script here (from previous messages) -->
  <script>
    // applyEquippedStuff() function here...
    // (the one that adds class to body and creates canvas trail)
  </script>
</body>
</html>
